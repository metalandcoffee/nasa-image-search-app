{"version":3,"sources":["src/state.js","src/data.js","src/components/lightbox/index.js","src/components/search/index.js","src/index.js"],"names":["state","searchTerm","images","currentImage","setState","toSet","newValue","fetchImages","url","fetch","then","res","json","data","collection","items","catch","error","console","lightbox","markup","forEach","image","links","href","title","init","Array","from","document","querySelectorAll","addEventListener","openLightbox","e","preventDefault","currentImageIndex","getCurrentImageIndex","event","target","log","map","img","outerHTML","findIndex","clearLightbox","querySelector","remove","getElementById","doSearch","search","term","value","toLowerCase","length","alert","insertAdjacentHTML"],"mappings":"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","file":"src.1b1f056f.js","sourceRoot":"..","sourcesContent":["const state = {\n    searchTerm: null,\n    images: null,\n    currentImage: null\n};\n\nconst setState = (toSet, newValue) => {\n    state[toSet] = newValue;\n};\n\nexport { state, setState };","import { state } from \"./state\";\n\nexport default function fetchImages() {\n    const url = `https://images-api.nasa.gov/search?q=${state.searchTerm}&media_type=image`;\n    return fetch(url)\n        .then(res => res.json())\n        .then(data => data.collection.items)\n        .catch(error => console.error(error));\n}","import { state, setState } from \"../../state\";\nimport \"./index.css\";\n\nexport default function lightbox() {\n    let markup = `<div class=\"lightbox\">`;\n    state.images.forEach(image => {\n        const url = image.links[0].href;\n        const title = image.data[0].title;\n        markup += `<div class=\"thumbnail\">\n            <img src=\"${url}\" alt=\"${title}\" />\n        </div>`;\n    });\n    markup += `</div>`;\n    return markup;\n}\n\nexport function init() {\n    const images = Array.from(document.querySelectorAll(`.lightbox img`));\n    images.forEach(image => {\n        image.addEventListener(`click`, openLightbox);\n    });\n}\n\nfunction openLightbox(e) {\n    e.preventDefault();\n    const currentImageIndex = getCurrentImageIndex(event.target);\n    setState(`currentImage`, currentImageIndex);\n    console.log(state.currentImage);\n}\n\nfunction getCurrentImageIndex(image) {\n    const images = Array.from(document.querySelectorAll(`.lightbox img`));\n\n    let currentImageIndex = images\n        .map(img => img.outerHTML)\n        .findIndex(img => img == image.outerHTML);\n\n    return currentImageIndex;\n}\n\nexport function clearLightbox() {\n    const lightbox = document.querySelector(`.lightbox`);\n    if (lightbox) lightbox.remove();\n}","import \"./index.css\";\n\nimport { state, setState } from \"../../state\";\nimport fetchImages from \"../../data\";\nimport lightbox, { init as initLightbox, clearLightbox } from \"../lightbox\";\n\nexport function init() {\n    const search = document.getElementById(`search`);\n    search.addEventListener(`submit`, doSearch);\n}\n\nexport default function search() {\n    return `\n        <h1>Search NASA Photos</h1>\n        <form name=\"search\" id=\"search\">\n            <p><label for=\"search-field\">Enter Search Term Below:</label></p>\n            <input id=\"search-field\" name=\"search\" type=\"search\" />\n            <input type=\"submit\" id=\"submit\" value=\"Search\" />\n        </form>\n    `;\n}\n\nasync function doSearch(e) {\n    e.preventDefault();\n    clearLightbox();\n\n    const term = document.getElementById(`search-field`).value.toLowerCase();\n    setState(`searchTerm`,term);\n    console.log(state.searchTerm);\n\n    const images = await fetchImages();\n    setState(`images`, images);\n    console.log(state.images);\n\n    if (state.images.length === 0) {\n        alert(`There are no results for \"${state.searchTerm}\"`);\n        setState(`searchTerm`, null);\n        document.getElementById(`search-field`).value = state.searchTerm;\n    } else {\n        const markup = lightbox();\n        document.getElementById(`app`).insertAdjacentHTML(`beforeend`, markup);\n        initLightbox();\n    }\n}","import \"./index.css\";\r\n\r\nimport search, { init as initSearch } from \"./components/search\";\r\n\r\nfunction init() {\r\n    let markup = search();\r\n    document.getElementById(`app`).insertAdjacentHTML(`beforeend`,markup);\r\n\r\n    initSearch();\r\n}\r\n\r\ninit();\r\n"]}